<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生字學習網 - 造句示範</title>
    <style>
        /* * 全端工程師筆記：
         * 這裡使用 CSS Variables 定義色系，方便統一管理。
         * 使用 Flexbox 進行居中排版。
         */
        :root {
            --primary-color: #3498db; /* 連結/主色 */
            --accent-color: #e74c3c;  /* 強調色 (用於關鍵字) */
            --bg-color: #f4f7f6;      /* 頁面背景 */
            --card-bg: #ffffff;       /* 卡片背景 */
            --text-main: #2c3e50;     /* 主要文字 */
            --text-secondary: #7f8c8d; /* 次要文字 */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif; /* 建議引入 Google Fonts */
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            padding: 20px;
            margin: 0;
        }

        /* 模組化卡片設計 */
        .learning-card {
            background: var(--card-bg);
            width: 100%;
            max-width: 600px; /* 限制最大寬度，保持閱讀舒適 */
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); /* 輕微陰影增加質感 */
            overflow: hidden;
            padding: 20px;
        }

        .section-title {
            font-size: 1.2rem;
            color: var(--text-main);
            border-left: 5px solid var(--primary-color); /* 左側藍條裝飾 */
            padding-left: 10px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        /* 造句列表樣式 */
        .sentence-list {
            list-style: none; /* 移除預設黑點 */
            padding: 0;
            margin: 0;
        }

        .sentence-item {
            font-size: 1.1rem;
            color: var(--text-main);
            padding: 12px 0;
            border-bottom: 1px dashed #eee; /* 虛線分隔，視覺較輕盈 */
            line-height: 1.6; /* 增加行高，適合閱讀 */
        }

        .sentence-item:last-child {
            border-bottom: none;
        }

        /* 關鍵字高亮樣式 */
        .highlight-word {
            color: var(--accent-color);
            font-weight: bold;
            background-color: rgba(231, 76, 60, 0.1); /* 淡淡的背景色增加強調感 */
            padding: 0 4px;
            border-radius: 4px;
        }

        /* 模擬查詢介面 (Demo用) */
        .search-box {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        
        input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            flex-grow: 1;
        }
        
        button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="learning-card">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="輸入字詞 (例如：識、學校)" value="識">
            <button onclick="searchWord()">查詢</button>
        </div>

        <div class="sentence-section">
            <div class="section-title">造句練習</div>
            <ul class="sentence-list" id="sentenceOutput">
                </ul>
        </div>
    </div>

    <script>
        /**
         * 全端工程師邏輯：資料與視圖分離 (Separation of Concerns)
         * 1. database: 存放資料
         * 2. render function: 負責產生 HTML
         */

        // 1. 模擬資料庫 (未來可換成從後端 API 抓取)
        const vocabularyDB = {
            "識": [
                "雖然我不認<b>識</b>這位新鄰居，但他看起來很和善。",
                "多讀書可以增長知<b>識</b>，開闊我們的眼界。",
                "這條山路標<b>識</b>不清，遊客很容易迷路。"
            ],
            "學校": [
                "學生在<b>學校</b>內讀書和運動。",
                "我們的<b>學校</b>有一座美麗的花園。",
                "每天早上，我都準時到<b>學校</b>上課。"
            ],
            "朋友": [
                "小明是我的好<b>朋友</b>，我們常一起踢球。",
                "對待<b>朋友</b>要真誠，不能說謊。"
            ]
        };

        // 2. 搜尋並顯示功能的函數
        function searchWord() {
            const input = document.getElementById('searchInput').value.trim();
            const listContainer = document.getElementById('sentenceOutput');
            
            // 清空目前的列表
            listContainer.innerHTML = '';

            if (!input) return; // 如果沒輸入則不動作

            // 從資料庫找資料
            const sentences = vocabularyDB[input];

            if (sentences) {
                // 如果有找到資料
                sentences.forEach(sentence => {
                    // 創建 li 元素
                    const li = document.createElement('li');
                    li.className = 'sentence-item';
                    
                    // --- 關鍵技術點：高亮關鍵字 ---
                    // 我們使用正則表達式 (Regex) 把關鍵字包上 span 標籤
                    // 但因為我們的資料庫範例裡已經手動加了 <b> (這也是一種方法)
                    // 這裡示範如果資料庫是純文字，程式碼該怎麼寫：
                    
                    // 假設資料庫是純文字："學生在學校內讀書。"
                    // const highlightedText = sentence.replaceAll(input, `<span class="highlight-word">${input}</span>`);
                    
                    // 這裡直接使用資料庫內容 (假設你已經在資料庫處理好，或是用上述方法處理)
                    // 為了演示效果，我這裡直接寫入 HTML
                    
                    // 如果是用純文字資料庫，請使用下面這行：
                    const safeInput = input.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // 防止特殊符號報錯
                    const regex = new RegExp(safeInput, 'g');
                    const highlightedText = sentence.replace(regex, `<span class="highlight-word">${input}</span>`);

                    // 遇到資料庫原本就有 HTML 標籤的情況 (如上面的 "識" 範例)，我們需先清理再處理，或直接信任資料庫
                    // 這裡為了簡單展示，假設資料庫字串是純淨的，由前端動態加色：
                    // 修改 DB 範例為純文字，讓 JS 處理變色 (更靈活)
                    
                    li.innerHTML = highlightedText; 
                    listContainer.appendChild(li);
                });
            } else {
                // 如果找不到
                listContainer.innerHTML = '<li class="sentence-item" style="color: #95a5a6;">目前資料庫還沒有這個詞的例句喔！</li>';
            }
        }

        // 頁面載入時先執行一次
        window.onload = function() {
            // 修正 DB 為純文字以便 JS 處理 (模擬真實狀況)
            vocabularyDB["識"] = [
                "雖然我不認識這位新鄰居，但他看起來很和善。",
                "多讀書可以增長知識，開闊我們的眼界。",
                "這條山路標識不清，遊客很容易迷路。"
            ];
            searchWord();
        };

    </script>
</body>
</html>
